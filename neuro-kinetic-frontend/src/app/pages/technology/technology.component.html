<!-- Navigation Bar -->
<app-navigation></app-navigation>

<!-- Technology Section -->
<section class="min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 text-white pt-24 pb-20">
  <div class="container mx-auto px-4 py-12">
    <!-- Header -->
    <div class="text-center mb-16">
      <h1 class="text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent">
        CMDAN Architecture
      </h1>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto">
        Conditional Multi-Source Domain Adversarial Network for cross-domain Parkinson's disease detection
      </p>
    </div>

    <!-- Quick Navigation -->
    <div class="max-w-4xl mx-auto mb-12">
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-4">
        <div class="flex flex-wrap justify-center gap-4">
          <button (click)="scrollToSection('architecture')" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm">
            Architecture
          </button>
          <button (click)="scrollToSection('components')" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm">
            Components
          </button>
          <button (click)="scrollToSection('pipeline')" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm">
            Training Pipeline
          </button>
          <button (click)="scrollToSection('performance')" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm">
            Performance
          </button>
          <button (click)="navigateToDemo()" class="px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg transition-colors text-sm">
            Try Demo
          </button>
        </div>
      </div>
    </div>

    <!-- Architecture Overview -->
    <div id="architecture" class="max-w-4xl mx-auto mb-16 scroll-mt-24">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Architecture Overview</h2>
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8">
        <p class="text-gray-300 text-lg leading-relaxed mb-6">
          The Conditional Multi-Source Domain Adversarial Network (CMDAN) is designed to handle domain shift
          challenges when applying machine learning models across different clinical sites, hospitals, and data
          collection environments.
        </p>
        
        <div class="bg-white/5 rounded-lg p-6 mb-6">
          <h3 class="text-xl font-semibold text-emerald-400 mb-4">Key Advantages</h3>
          <ul class="space-y-3 text-gray-300">
            <li class="flex items-start">
              <span class="text-emerald-400 mr-2">âœ“</span>
              <span><strong>Reduced Performance Drop:</strong> Maintains <10% performance drop when applied to new clinical settings</span>
            </li>
            <li class="flex items-start">
              <span class="text-emerald-400 mr-2">âœ“</span>
              <span><strong>Missing Modality Handling:</strong> Works gracefully with missing voice or gait data</span>
            </li>
            <li class="flex items-start">
              <span class="text-emerald-400 mr-2">âœ“</span>
              <span><strong>Confidence Scores:</strong> Provides confidence metrics for all predictions</span>
            </li>
            <li class="flex items-start">
              <span class="text-emerald-400 mr-2">âœ“</span>
              <span><strong>Standard Equipment:</strong> Works with standard clinical recording equipment</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Model Components -->
    <div id="components" class="max-w-4xl mx-auto mb-16 scroll-mt-24">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Model Components</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Feature Extractors -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl mb-4">ðŸ§ </div>
          <h3 class="text-xl font-bold text-emerald-400 mb-3">Feature Extractors</h3>
          <p class="text-gray-300 mb-4">
            Separate Convolutional Neural Networks (CNNs) process voice and gait data independently,
            extracting domain-specific features for each modality.
          </p>
          <div class="space-y-2 text-sm text-gray-400">
            <div><strong>Voice CNN:</strong> Acoustic features (jitter, shimmer, pitch, MFCCs)</div>
            <div><strong>Gait CNN:</strong> Motion features (stride, cadence, swing time, balance)</div>
          </div>
        </div>

        <!-- Domain Discriminator -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl mb-4">ðŸ”„</div>
          <h3 class="text-xl font-bold text-emerald-400 mb-3">Domain Discriminator</h3>
          <p class="text-gray-300 mb-4">
            Adversarial component that learns to identify domain-invariant features,
            ensuring the model generalizes across different clinical sites.
          </p>
          <div class="text-sm text-gray-400">
            <strong>Purpose:</strong> Minimize domain shift between source and target sites
          </div>
        </div>

        <!-- Conditional Classifier -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl mb-4">ðŸŽ¯</div>
          <h3 class="text-xl font-bold text-emerald-400 mb-3">Conditional Classifier</h3>
          <p class="text-gray-300 mb-4">
            Makes predictions while considering domain relationships,
            ensuring robust performance across different clinical environments.
          </p>
          <div class="text-sm text-gray-400">
            <strong>Output:</strong> Parkinson's disease probability with confidence scores
          </div>
        </div>

        <!-- Multi-Source Integration -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl mb-4">ðŸ”—</div>
          <h3 class="text-xl font-bold text-emerald-400 mb-3">Multi-Source Integration</h3>
          <p class="text-gray-300 mb-4">
            Combines data from multiple clinical sources at intermediate layers,
            enabling cross-domain learning and improved generalization.
          </p>
          <div class="text-sm text-gray-400">
            <strong>Benefit:</strong> Leverages diverse data sources for better accuracy
          </div>
        </div>
      </div>
    </div>

    <!-- Training Pipeline -->
    <div id="pipeline" class="max-w-4xl mx-auto mb-16 scroll-mt-24">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Training Pipeline</h2>
      
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8">
        <div class="space-y-8">
          <!-- Step 1 -->
          <div class="flex items-start gap-4">
            <div class="bg-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg flex-shrink-0">
              1
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-semibold text-emerald-400 mb-2">Data Preprocessing</h3>
              <p class="text-gray-300">
                Standardization across different data collection devices, normalization of audio and motion signals,
                feature extraction for both voice and gait modalities.
              </p>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="flex items-start gap-4">
            <div class="bg-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg flex-shrink-0">
              2
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-semibold text-emerald-400 mb-2">Domain Adaptation</h3>
              <p class="text-gray-300">
                Handles variations between hospitals, clinics, and data collection sites using adversarial training
                to learn domain-invariant representations.
              </p>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="flex items-start gap-4">
            <div class="bg-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg flex-shrink-0">
              3
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-semibold text-emerald-400 mb-2">Multi-Modal Fusion</h3>
              <p class="text-gray-300">
                Combines voice and gait features at intermediate layers, enabling the model to leverage
                complementary information from both modalities for improved accuracy.
              </p>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="flex items-start gap-4">
            <div class="bg-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg flex-shrink-0">
              4
            </div>
            <div class="flex-1">
              <h3 class="text-xl font-semibold text-emerald-400 mb-2">Cross-Domain Validation</h3>
              <p class="text-gray-300">
                Validates model performance across different clinical sites to ensure generalization
                and measure domain adaptation effectiveness (<10% performance drop target).
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Input Data Types -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Input Data Types</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Voice Data -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6">
          <h3 class="text-xl font-bold text-emerald-400 mb-4 flex items-center">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
            </svg>
            Voice Data
          </h3>
          <ul class="space-y-2 text-gray-300 text-sm">
            <li>â€¢ <strong>Jitter:</strong> Pitch variation measurements</li>
            <li>â€¢ <strong>Shimmer:</strong> Amplitude variation</li>
            <li>â€¢ <strong>Pitch Variations:</strong> Fundamental frequency analysis</li>
            <li>â€¢ <strong>MFCCs:</strong> Mel-frequency cepstral coefficients</li>
            <li>â€¢ <strong>Formants:</strong> Vocal tract characteristics</li>
          </ul>
          <div class="mt-4 pt-4 border-t border-white/10 text-xs text-gray-400">
            <strong>Processing:</strong> Audio recordings processed for acoustic features
          </div>
        </div>

        <!-- Gait Data -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6">
          <h3 class="text-xl font-bold text-emerald-400 mb-4 flex items-center">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            Gait Data
          </h3>
          <ul class="space-y-2 text-gray-300 text-sm">
            <li>â€¢ <strong>Stride Length:</strong> Distance between steps</li>
            <li>â€¢ <strong>Cadence:</strong> Steps per minute</li>
            <li>â€¢ <strong>Swing Time:</strong> Time foot is off ground</li>
            <li>â€¢ <strong>Balance Metrics:</strong> Postural stability</li>
            <li>â€¢ <strong>Gait Speed:</strong> Walking velocity</li>
          </ul>
          <div class="mt-4 pt-4 border-t border-white/10 text-xs text-gray-400">
            <strong>Processing:</strong> Motion sensor/walking pattern data analysis
          </div>
        </div>
      </div>
    </div>

    <!-- Performance Metrics -->
    <div id="performance" class="max-w-4xl mx-auto mb-16 scroll-mt-24">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Performance Metrics</h2>
      
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8 mb-6">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center mb-6">
          <div>
            <div class="text-4xl font-bold text-emerald-400 mb-2">>85%</div>
            <div class="text-sm text-gray-300">Cross-Domain Accuracy</div>
          </div>
          <div>
            <div class="text-4xl font-bold text-emerald-400 mb-2"><10%</div>
            <div class="text-sm text-gray-300">Domain Adaptation Drop</div>
          </div>
          <div>
            <div class="text-4xl font-bold text-emerald-400 mb-2">Multi</div>
            <div class="text-sm text-gray-300">Modality Support</div>
          </div>
          <div>
            <div class="text-4xl font-bold text-emerald-400 mb-2">5-Fold</div>
            <div class="text-sm text-gray-300">Cross Validation</div>
          </div>
        </div>
        
        <div class="flex flex-wrap gap-4 justify-center">
          <button (click)="navigateToMetrics()" class="px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors font-semibold">
            View All Metrics
          </button>
          <button (click)="navigateToCrossValidation()" class="px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-lg transition-colors font-semibold">
            View Cross-Validation
          </button>
        </div>
      </div>

      <!-- Recent Performance -->
      <div *ngIf="performanceMetrics.length > 0" class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-emerald-400 mb-4">Recent Performance Metrics</h3>
        <div class="space-y-3">
          <div *ngFor="let metric of performanceMetrics" class="bg-white/5 rounded-lg p-4">
            <div class="flex items-center justify-between mb-2">
              <span class="font-semibold text-white">{{ metric.dataset }}</span>
              <span class="text-emerald-400 font-bold">{{ Math.round(metric.accuracy * 100) }}% Accuracy</span>
            </div>
            <div class="grid grid-cols-4 gap-4 text-sm text-gray-300">
              <div>Precision: {{ Math.round(metric.precision * 100) }}%</div>
              <div>Recall: {{ Math.round(metric.recall * 100) }}%</div>
              <div>F1: {{ Math.round(metric.f1Score * 100) }}%</div>
              <div>Domain Drop: 
                <span [class]="getDomainDropColor(metric.domainAdaptationDrop || 0)">
                  {{ metric.domainAdaptationDrop ? Math.round(metric.domainAdaptationDrop * 100) + '%' : 'N/A' }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Validation Approach -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Validation Approach</h2>
      
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8">
        <div class="space-y-6">
          <div>
            <h3 class="text-xl font-semibold text-emerald-400 mb-3">Cross-Domain Testing</h3>
            <p class="text-gray-300">
              Model is validated across multiple clinical sites to ensure generalization.
              Performance is measured on unseen sites to verify domain adaptation effectiveness.
            </p>
          </div>

          <div>
            <h3 class="text-xl font-semibold text-emerald-400 mb-3">5-Fold Cross Validation</h3>
            <p class="text-gray-300">
              Standard k-fold cross-validation is used to assess model performance,
              with each fold representing a different site-to-site transfer scenario.
            </p>
          </div>

          <div>
            <h3 class="text-xl font-semibold text-emerald-400 mb-3">Missing Modality Robustness</h3>
            <p class="text-gray-300">
              Model maintains performance even when only voice or only gait data is available,
              demonstrating robustness for clinical scenarios with incomplete data.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Technical Specifications -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold text-emerald-400 mb-6">Technical Specifications</h2>
      
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold text-emerald-400 mb-3">Model Architecture</h3>
            <ul class="space-y-2 text-gray-300 text-sm">
              <li>â€¢ <strong>Type:</strong> Conditional Multi-Source Domain Adversarial Network</li>
              <li>â€¢ <strong>Backbone:</strong> Convolutional Neural Networks (CNNs)</li>
              <li>â€¢ <strong>Modalities:</strong> Voice, Gait (Multi-modal)</li>
              <li>â€¢ <strong>Training:</strong> Adversarial domain adaptation</li>
            </ul>
          </div>
          
          <div>
            <h3 class="text-lg font-semibold text-emerald-400 mb-3">Performance Targets</h3>
            <ul class="space-y-2 text-gray-300 text-sm">
              <li>â€¢ <strong>Accuracy:</strong> >85% cross-domain</li>
              <li>â€¢ <strong>Domain Drop:</strong> <10% performance loss</li>
              <li>â€¢ <strong>Modality:</strong> Single or multi-modal input</li>
              <li>â€¢ <strong>Confidence:</strong> High/Medium/Low scores</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="max-w-4xl mx-auto text-center">
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8">
        <h2 class="text-2xl font-bold text-emerald-400 mb-4">Ready to Explore?</h2>
        <p class="text-gray-300 mb-6">
          Try our interactive demo to see the CMDAN model in action with real-time analysis
        </p>
        <button 
          (click)="navigateToDemo()"
          class="bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-4 rounded-lg transition-colors font-semibold text-lg shadow-lg hover:shadow-emerald-500/25"
        >
          Launch Interactive Demo
        </button>
      </div>
    </div>
  </div>
</section>
